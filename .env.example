# ===========================================
# lnk.day 环境配置
# 复制此文件为 .env 并修改敏感值
# ===========================================

# 环境
NODE_ENV=development

# ===========================================
# 数据库配置 (PostgreSQL)
# ===========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password-change-me
POSTGRES_DB=lnk_main
POSTGRES_PORT=60030

# 服务使用的数据库配置
DB_HOST=localhost
DB_PORT=60030
DB_USER=postgres
DB_PASSWORD=your-postgres-password-change-me

# ===========================================
# Redis 配置
# ===========================================
REDIS_PORT=60031
REDIS_URL=redis://localhost:60031

# ===========================================
# ClickHouse 配置
# ===========================================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_TCP_PORT=60032
CLICKHOUSE_HTTP_PORT=60034

# ===========================================
# Kafka 配置
# ===========================================
KAFKA_PORT=60033
KAFKA_BROKERS=localhost:60033

# ===========================================
# MinIO 配置 (对象存储)
# ===========================================
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=your-minio-password-change-me
MINIO_API_PORT=60006
MINIO_CONSOLE_PORT=60015
MINIO_ENDPOINT=localhost:60006
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=your-minio-password-change-me

# ===========================================
# MeiliSearch 配置
# ===========================================
MEILI_MASTER_KEY=your-meilisearch-key-change-me
MEILI_PORT=60035
MEILISEARCH_HOST=http://localhost:60035
MEILISEARCH_API_KEY=your-meilisearch-key-change-me

# ===========================================
# RabbitMQ 配置
# ===========================================
RABBITMQ_DEFAULT_USER=rabbit
RABBITMQ_DEFAULT_PASS=your-rabbitmq-password-change-me
RABBITMQ_PORT=60036
RABBITMQ_MANAGEMENT_PORT=60037
RABBITMQ_URL=amqp://rabbit:your-rabbitmq-password-change-me@localhost:60036

# ===========================================
# Grafana 配置
# ===========================================
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=your-grafana-password-change-me
GF_PORT=60041

# ===========================================
# 监控端口
# ===========================================
PROMETHEUS_PORT=60040
LOKI_PORT=60042
JAEGER_UI_PORT=60044

# ===========================================
# JWT 配置 (必须使用复杂密钥！生成命令: openssl rand -base64 48)
# ===========================================
JWT_SECRET=<使用 openssl rand -base64 48 生成>
JWT_EXPIRES_IN=8h
JWT_REFRESH_SECRET=<使用 openssl rand -base64 48 生成>
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# 内部 API 密钥 (生成命令: openssl rand -hex 32)
# ===========================================
INTERNAL_API_KEY=<使用 openssl rand -hex 32 生成>

# ===========================================
# OpenTelemetry 配置
# ===========================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
OTEL_SAMPLE_RATE=0.1
